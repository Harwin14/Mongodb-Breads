<%- include('partials/header') %>


    <div class="card " style="background-color: #edf7fa; border-style:double ;">
        <div class="card-header text-center" >
            <h1>BREAD(Browse, Read, Edit, Add, Delete)</h1>
        </div>
        <div class="card-body">


            <!-- =================FORM================= -->
            <form action="" method="get">
                <input type="hidden" name="page" value="1">

                <div>
                    
                    <!-- =========STRING========= -->
                    <div class="row mb-3  form-switch">
                        <input class="form-check-input" name="stringFilters" type="checkbox" id="filters"
                            <%=query.stringFilters=='on' ? 'checked' : '' %>>
                        <label class="form-check-label col-sm-2" for="string">String</label>
                        <div class="col-sm-8">
                            <input class="form-control" name="string" type="text" placeholder=" String "
                                value="<%= query.string %>">
                        </div>
                    </div>
                    <!-- ==========INTEGER========= -->
                    <div class="row mb-3 form-switch">
                        <input class="form-check-input" name="integerFilters" type="checkbox" id="filters" <%=query.integerFilters=='on'
                            ? 'checked' : '' %>>
                        <label class="form-check-label col-sm-2" for="integer">Integer</label>

                        <div class="col-sm-8">
                            <input class="form-control" name="integer" type="number" placeholder=" Integer "
                                id="integer" value="<%= query.integer %>">
                        </div>
                    </div>
                    <!--============FLOAT============= -->
                    <div class="row mb-3 form-switch">
                            <input class="form-check-input" name="floatFilters" type="checkbox" <%=query.floatFilters=='on' ? 'checked' : '' %>>
                            <label class="form-check-label col-sm-2" for="float">Float</label>
                
                        <div class="col-sm-8">
                            <input class="form-control" name="float" type="number" step="0.05" placeholder="Float"
                                value="<%= query.float %>">
                        </div>
                    </div>
                    <!-- ============DATE============ -->
                    <div class="row mb-3 form-switch">
                            <input class="form-check-input" name="dateFilters" type="checkbox" <%=query.dateFilters=='on' ? 'checked' : '' %>>
                            <label class="form-check-label col-sm-2" for="date">date</label>
                        <div class="col-sm-3">
                            <div>
                                <input class="form-control" name="startDate" type="date" placeholder="start date"
                                    value="<%= query.startDate %>">
                                to
                                <input class="form-control" name="endDate" type="date" placeholder="end date"
                                    value="<%= query.endDate%>">
                            </div>
                        </div>
                    </div>

                    <!-- ===========BOOLEAN============= -->
                    <div class="row mb-3 form-switch">
                            <input class="form-check-input" name="booleanFilters" type="checkbox" <%=query.booleanFilters=='on' ? 'checked' : ''
                                %>>
                            <label class="form-check-label col-sm-2" for="boolean">Boolean</label>
 
                        <div class="col-sm-8">
                            <select class="form-control" class="input" name="boolean" id="filters">
                                <option value="" selected disabled> Choose the Boolean...</option>
                                <option value=1 <%=query.boolean==1 ? 'selected' : '' %>>true</option>
                                <option value=0 <%=query.boolean==0 ? 'selected' : '' %>>false</option>
                            </select>
                        </div>
                    </div>
                    <div class="d-grid gap-2 d-md-block">
                        <button class="btn btn-primary " type="submit"><i class="fa-solid fa-magnifying-glass" title="Search"></i></button> 
                        <button class="btn btn-warning" type="submit" href="/"><i class="fa-sharp fa-solid fa-rotate-left" title="Reset"></i></button>
                    </div>

            </form>

        </div>



        <!-- =============tabel================== -->
        <div>
            <table class="table table-striped">
                <thead style="background-color: rgb(176, 250, 250);">
                    <tr>
                        <th>
                            No
                        </th>
                        <th>

                            String

                        </th>

                        <th>
                            Integer
                            </a>
                        </th>
                        <th>

                            Float
                            </a>
                        </th>
                        <th>
                            Date
                            </a>
                        </th>
                        <th>

                            Boolean
                            </a>
                        </th>
                        <th>Actions </th>
                    </tr>
                </thead>
                <tbody>
                    <% data.forEach((item, index)=> { %>
                        <tr>
                            <div>
                                <td>
                                    <%= offset + index + 1 %>
                                </td>

                                <td>
                                    <%= item.string %>
                                </td>
                                <td>
                                    <%= item.integer %>
                                </td>
                                <td>
                                    <%= item.float %>
                                </td>
                                <td>
                                    <%= moment(item.date).format('DD MMM YYYY'); %>
                                </td>
                                <td>
                                    <%= item.boolean%>
                                </td>
                                <td>
                                    <div class="d-grid gap-2 d-md-block">
                                        <a class="btn btn-success" href="/edit/<%= item._id %>"><i class="fa-solid fa-pencil" title="Edit"></i></a>
                                        <a class="btn btn-danger" href="/delete/<%= item._id %>"
                                            href="delete_methode_link"
                                            onclick="return confirm('Are you sure you want to delete?');">  <i class="fa-solid fa-trash-can" title="Delete"></i>
                                        </a>
                                    </div>
                                </td>
                            </div>
                        </tr>
                        <% }) %>
                </tbody>
            </table>
        </div>
        <div class="card-footer">
            <nav aria-label="Page navigation example">
                <ul class="pagination">
                  <li class="page-item page-item<%= page == 1 ? ' disabled' : '' %>">
                    <a class="page-link" href="/?page=<%= page - 1 %>" aria-label="Previous">
                      <span aria-hidden="true">&laquo;</span>
                    </a>
                  </li>
                  <% for(let i=1; i <= pages; i++){ %>
                  <li class="page-item<%= page == i ? ' active' : '' %>"><a class="page-link" href="/?page=<%= i %>"><%= i %></a></li>
                  <% } %>
                  <li class="page-item page-item<%= page == pages ? ' disabled' : '' %>">
                    <a class="page-link" href="/?page=<%= page + 1 %>" aria-label="Next">
                      <span aria-hidden="true">&raquo;</span>
                    </a>
                  </li>
                </ul>
              </nav>
        <div class="d-grid gap-2 d-md-block">
            <a class="btn btn-primary fa-solid fa-square-plus" href="/add" >Add</a>
        </div>

</div>
    </div>
    <%- include('partials/footer') %> 

